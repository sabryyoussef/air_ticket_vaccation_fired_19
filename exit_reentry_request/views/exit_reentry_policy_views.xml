<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- list View -->
    <record id="view_exit_reentry_policy_list" model="ir.ui.view">
        <field name="name">hr.exit.entry.type.list</field>
        <field name="model">hr.exit.entry.type</field>
        <field name="arch" type="xml">
            <list string="Exit and Re-entry Policies">
                <field name="name"/>
                <field name="code"/>
                <field name="min_months"/>
                <field name="min_charge"/>
                <field name="additional_month_cost"/>
                <field name="max_month"/>
                <field name="max_charge"/>
                <field name="min_months2"/>
                <field name="min_charge2"/>
                <field name="additional_month_cost2"/>
                <field name="max_month2"/>
                <field name="max_charge2"/>
                <field name="state"/>
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_exit_reentry_policy_form" model="ir.ui.view">
        <field name="name">hr.exit.entry.type.form</field>
        <field name="model">hr.exit.entry.type</field>
        <field name="arch" type="xml">
            <form string="Exit and Re-entry Policy">
                <header>
                    <button name="confirm" string="Confirm" type="object" class="oe_highlight" invisible="state != 'new'"   groups="hr.group_hr_manager"/>
                    <button name="reset" string="Set to new" type="object" invisible="state != 'confirmed'"   groups="hr.group_hr_manager"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button type="object" name="open_requests" icon="fa-star" class="oe_inline oe_stat_button">
                            <field string="Exit Re-entry requests" name="count_requests" widget="statinfo"/>
                        </button>
                    </div>
                    <h2>
                        <field name="name" required="1" placeholder="Description"/>
                        <br/>
                        <field name="code" readonly="1"/>
                    </h2>
                    <group groups="hr.group_hr_user">
                        <group string="Section 1: One Time">
                  
                            <field name="min_months"/>
                            <field name="min_charge"/>
                            <field name="additional_month_cost"/>
                            <field name="max_month"/>
                            <field name="max_charge"/>
                            <field name="emp_allowance_exit_rentry" groups="hr.group_hr_user" readonly="state == 'confirmed'"/>
                        </group>
                        <group string="Section 2: Multiple">
                            <field name="min_months2"/>
                            <field name="min_charge2"/>
                            <field name="additional_month_cost2"/>
                            <field name="max_month2"/>
                            <field name="max_charge2"/>
                        </group>
                        <group string="Other information">
                            <!-- <field name="loan_type_id" options="{'no_create': True}"/> -->
                        </group>
                        <group string="Limit Request">
                            <field name="request_limit"/>
                        </group>
                    </group>
                    <notebook colspan="4" groups="hr.group_hr_user">
                        <page string="Exit and Re-entry Requests">
                            <group string="Exit and Re-entry Requests">
                                <field name="request_ids">
                                    <list>
                                        <field name="name"/>
                                        <field name="employee_id"/>
                                        <field name="expected_travel_date"/>
                                        <field name="state"/>
                                    </list>
                                </field>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Action -->
    <record id="action_exit_reentry_policy" model="ir.actions.act_window">
        <field name="name">Exit and Re-entry Policies</field>
        <field name="res_model">hr.exit.entry.type</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_exit_reentry_policy_list"/>
        <!-- <field name="search_view_id" ref="hr.view_hr_employee_filter"/>
        <field name="context">{'search_default_new': 1}</field> -->
    </record>

    <!-- Menu -->
    
              
    <menuitem id="menu_hr_exit_reentry_policy" 
              name="Exit &amp; Re-entry Settings"      
              parent="exit_reentry_request.menu_hr_exit_entry_request_root" 
              action="action_exit_reentry_policy" 
              sequence="20"/>
</odoo>